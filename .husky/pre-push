#!/bin/sh

echo "ğŸš€ Running pre-push checks..."

# Format check
echo "ğŸ“ Checking code formatting..."
pnpm format:check
if [ $? -ne 0 ]; then
  echo "âŒ Format check failed! Run 'pnpm format' to fix."
  exit 1
fi

# Lint check
echo "ğŸ” Running linter..."
pnpm lint
if [ $? -ne 0 ]; then
  echo "âŒ Lint check failed! Run 'pnpm lint:fix' to fix auto-fixable issues."
  exit 1
fi

# Type check
echo "ğŸ” Checking TypeScript types..."
pnpm typecheck
if [ $? -ne 0 ]; then
  echo "âŒ Type check failed! Please fix type errors."
  exit 1
fi

echo "âœ… All pre-push checks passed!"