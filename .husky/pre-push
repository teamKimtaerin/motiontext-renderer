#!/bin/sh

echo "🚀 Running pre-push checks..."

# Format check
echo "📝 Checking code formatting..."
pnpm format:check
if [ $? -ne 0 ]; then
  echo "❌ Format check failed! Run 'pnpm format' to fix."
  exit 1
fi

# Lint check
echo "🔍 Running linter..."
pnpm lint
if [ $? -ne 0 ]; then
  echo "❌ Lint check failed! Run 'pnpm lint:fix' to fix auto-fixable issues."
  exit 1
fi

# Type check
echo "🔎 Checking TypeScript types..."
pnpm typecheck
if [ $? -ne 0 ]; then
  echo "❌ Type check failed! Please fix type errors."
  exit 1
fi

echo "✅ All pre-push checks passed!"