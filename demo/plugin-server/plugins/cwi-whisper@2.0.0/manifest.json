{
  "name": "cwi-whisper",
  "version": "2.0.0",
  "type": "dom",
  "pluginApi": "3.0",
  "minRenderer": "2.0.0",
  "entry": "index.mjs",
  "targets": ["text"],
  "capabilities": ["style-vars", "dom-manipulation"],
  "preload": [],
  "timeOffset": [-0.3, 0.3],
  "schema": {
    "speaker": {
      "type": "string",
      "default": "",
      "ui": { "control": "text", "allowDefine": true },
      "i18n": {
        "label": { "ko": "화자 ID", "en": "Speaker ID" },
        "description": { "ko": "화자별 색상을 적용할 때 사용되는 화자 식별자", "en": "Speaker identifier for color mapping" }
      }
    },
    "palette": {
      "type": "object",
      "default": {},
      "ui": { "control": "object", "allowDefine": true },
      "i18n": {
        "label": { "ko": "색상 팔레트", "en": "Color Palette" },
        "description": { "ko": "화자별 색상 매핑 객체", "en": "Speaker-to-color mapping object" }
      }
    },
    "color": {
      "type": "string",
      "default": "",
      "pattern": "^#[0-9a-fA-F]{6}$",
      "ui": { "control": "color", "allowDefine": true },
      "i18n": {
        "label": { "ko": "고정 색상", "en": "Fixed Color" },
        "description": { "ko": "특정 색상을 직접 지정 (팔레트보다 우선순위 높음)", "en": "Direct color specification (overrides palette)" }
      }
    },
    "shrink": {
      "type": "object",
      "default": { "scale": 0.6, "drop": 6 },
      "ui": { "control": "object", "allowDefine": true },
      "i18n": {
        "label": { "ko": "축소", "en": "Shrink" },
        "description": { "ko": "속삭임 시 축소 크기와 하강량", "en": "Minimum scale and downward offset while whispering" }
      },
      "properties": {
        "scale": {
          "type": "number",
          "default": 0.6,
          "min": 0.3,
          "max": 1,
          "step": 0.01,
          "ui": { "control": "slider", "allowDefine": true },
          "i18n": {
            "label": { "ko": "최소 스케일", "en": "Min Scale" },
            "description": { "ko": "축소 시 최소 배율", "en": "Lowest scale reached during whisper" }
          }
        },
        "drop": {
          "type": "number",
          "default": 6,
          "min": 0,
          "max": 30,
          "step": 1,
          "ui": { "control": "slider", "unit": "px", "allowDefine": true },
          "i18n": {
            "label": { "ko": "하강 높이", "en": "Drop Height" },
            "description": { "ko": "축소 시 아래로 이동하는 픽셀 높이", "en": "Pixels moved downward during the whisper" }
          }
        }
      }
    },
    "flutter": {
      "type": "object",
      "default": { "amp": 0.02, "freq": 8 },
      "ui": { "control": "object", "allowDefine": true },
      "i18n": {
        "label": { "ko": "파동", "en": "Flutter" },
        "description": { "ko": "잔잔한 진동 강도와 속도", "en": "Subtle flutter amount and speed" }
      },
      "properties": {
        "amp": {
          "type": "number",
          "default": 0.02,
          "min": 0,
          "max": 0.1,
          "step": 0.005,
          "ui": { "control": "slider", "allowDefine": true },
          "i18n": {
            "label": { "ko": "진폭", "en": "Amplitude" },
            "description": { "ko": "플러터의 추가 축소 폭", "en": "Additional shrink amount used for flutter" }
          }
        },
        "freq": {
          "type": "number",
          "default": 8,
          "min": 1,
          "max": 20,
          "step": 1,
          "ui": { "control": "slider", "allowDefine": true },
          "i18n": {
            "label": { "ko": "주파수", "en": "Frequency" },
            "description": { "ko": "초당 플러터 횟수", "en": "Flutter cycles per second" }
          }
        }
      }
    }
  }
}
